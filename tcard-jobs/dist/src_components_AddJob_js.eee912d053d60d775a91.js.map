{"version":3,"sources":["webpack://tcard-jobs/./src/components/AddJob.js"],"names":["blajob","job","categories","hrs","labor","archived","defcat","jobwoCat","AddJob","displayEditedJobs","useContext","AContext","job2edit","foundJobs","setFoundJobs","console","log","useReducer","beingEditedReducer","beingEdited","dispatchBeingEdited","updateJob","retJobs","expandEditedJobs","length","window","alert","saveJob","recs","push","category","catarr","JSON","parse","map","c","cat","def","postJob","then","res","useEffect","getJob","fetchJob","type","payload","addRec","renderCategories","tablarr","i","e","idx","target","name","field","value","checked","renderForm","style","outer","state","action","catstr","stringify","dc","isCkCat","newarr","filter","rc","arr","f","a","overflow","margin","padding","background","info","div","textAlign","span","fontSize","color","myli","od","width","border","ul","listStyleType","paddingLeft","li","icon"],"mappings":"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","file":"src_components_AddJob_js.eee912d053d60d775a91.js","sourcesContent":["import React,{useEffect, useReducer, useContext} from 'react'\r\nimport {fetchJob, postJob} from '../fetches'\r\nimport Form from 'muicss/lib/react/form';// eslint-disable-line \r\nimport Input from 'muicss/lib/react/input';// eslint-disable-line \r\nimport Button from 'muicss/lib/react/button';\r\nimport Checkbox from 'muicss/lib/react/checkbox';\r\n// import {Jobs}from './Jobs'\r\nimport {AContext} from '../contexts/acontext'\r\n\r\nconst blajob = {job:'', categories:'[]', hrs:null, labor:null,archived:0,default:0, defcat:0, jobwoCat:1}\r\n\r\nexport default function AddJob ({displayEditedJobs}){\r\n  const{job2edit, foundJobs, setFoundJobs} = useContext(AContext)\r\n  console.log('job2edit: ', job2edit)\r\n  const [beingEdited, dispatchBeingEdited]=useReducer(beingEditedReducer, blajob)\r\n\r\n  \r\n\r\n  const updateJob =()=>{\r\n    console.log('beingEdited: ', beingEdited)\r\n    const retJobs = expandEditedJobs()\r\n    if(retJobs.length==0){\r\n      window.alert(\"You need at leas a name for the job to save\")\r\n    }else{\r\n      setFoundJobs(retJobs)\r\n      console.log('retJobs, foundJobs: ', retJobs, foundJobs)\r\n      saveJob()\r\n    }\r\n  }\r\n\r\n  const expandEditedJobs=()=>{\r\n    const recs = []\r\n    if (beingEdited.job.length>1){\r\n      if (beingEdited.jobwoCat || beingEdited.categories.length < 4){\r\n        recs.push({job:beingEdited.job, category:'', default:beingEdited.default})\r\n      }\r\n      if (beingEdited.categories.length>4){\r\n        const catarr = JSON.parse(beingEdited.categories)\r\n        catarr.map(c=>{\r\n          recs.push({job:beingEdited.job, category:c.cat, default:c.def})\r\n        })\r\n      }\r\n    }\r\n    return recs\r\n  }\r\n\r\n  const saveJob=()=>{\r\n    console.log('beingEdited: ', beingEdited)\r\n    postJob(beingEdited)\r\n    .then((res)=>console.log('res: ', res))\r\n  }\r\n  \r\n\r\n  useEffect(()=>{\r\n    getJob()\r\n  },[job2edit])\r\n\r\n  const getJob=()=>{\r\n    console.log('gettingJob ', job2edit)\r\n    if(job2edit.length>0){\r\n      fetchJob(job2edit)\r\n      .then((res)=>{\r\n        console.log('res: ', res)\r\n        dispatchBeingEdited({type:'replace', payload:res.job})\r\n      })\r\n    }\r\n  }\r\n\r\n  const addRec=()=>{\r\n    console.log('in addRec!!!!!')\r\n    dispatchBeingEdited({type:'changeCatStr', payload:{cat:'', hrs:'', labor:'', def:0}})\r\n    console.log('beingEdited.categories: ', beingEdited.categories)\r\n  }\r\n  \r\n  const renderCategories=()=>{\r\n    console.log('beingEdited.categories.length: ', beingEdited.categories.length)\r\n    const catarr =JSON.parse(beingEdited.categories)\r\n    const tablarr = catarr.map((c,i)=>{\r\n      return(\r\n      <tr  key={i}>\r\n         <td width=\"10%\" ><a name={i}\r\n         onClick={(e)=>dispatchBeingEdited(\r\n            {type:'deleteCat', payload:{idx:e.target.name}}\r\n          )           \r\n         }>x</a></td> \r\n        <td width=\"40%\" ><Input name={i} placeholder='category'\r\n        value={c.cat} \r\n        onChange={(e)=>dispatchBeingEdited(\r\n          {type:'changeCat', payload:{idx:e.target.name, field:e.target.value}}\r\n        )}/></td>\r\n        <td width=\"15%\" ><Input name={i} placeholder='hrs'\r\n        value={c.hrs} \r\n        onChange={(e)=>dispatchBeingEdited(\r\n          {type:'changeCatHrs', payload:{idx:e.target.name, field:e.target.value}}\r\n        )}/></td>\r\n        <td width=\"20%\" ><Input name={i} placeholder='labor$'\r\n        value={c.labor} \r\n        onChange={(e)=>dispatchBeingEdited(\r\n          {type:'changeCatLabor', payload:{idx:e.target.name, field:e.target.value}}\r\n        )}/></td>\r\n        <td width=\"15%\" ><Checkbox name={i} label=\"default\"\r\n        checked={c.def} \r\n        onChange={(e)=>dispatchBeingEdited(\r\n          {type:'changeCatCk', payload:{idx:e.target.name, field:e.target.checked}}\r\n        )}/></td>\r\n      </tr>\r\n      )\r\n    })\r\n    return(\r\n      <div>\r\n        <Button  variant='flat' onClick={addRec}><span>&#43; Category</span></Button>\r\n        <span>\r\n          {beingEdited.defcat}  \r\n        </span>\r\n        {beingEdited.categories.length>3 && \r\n        <table className=\"mui-table\">\r\n          <tbody>\r\n            {tablarr}\r\n          </tbody>\r\n        </table>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\n  const renderForm = ()=>{\r\n    console.log('beingEdited: ', beingEdited)\r\n    return(\r\n      <div>\r\n        {/* <Jobs firstday={1} allJobs={allJobs} sendJob2edit={handleJob2edit} defaultFound={defaultFound}/> */}\r\n        <legend>Add or Update Job</legend>\r\n        <table className=\"mui-table\">\r\n          <tbody><tr>\r\n            <td width=\"85%\">\r\n            <Input placeholder=\"Job\" value={beingEdited.job} onChange={(e)=>dispatchBeingEdited({type:'changeJob', payload:e.target.value})}/>\r\n            </td>\r\n            <td width=\"15%\" ><Checkbox label=\"default\"\r\n            checked={beingEdited.default} \r\n            onChange={(e)=>dispatchBeingEdited(\r\n              {type:'changeCk', payload:e.target.checked}\r\n            )}/></td>\r\n            </tr>\r\n            <tr> \r\n              <td>include no category  </td>\r\n              <td> \r\n              <input type=\"checkbox\" \r\n                checked={beingEdited.jobwoCat} \r\n                onChange={(e)=>dispatchBeingEdited(\r\n                  {type:'changeWoCat', payload:e.target.checked*1}\r\n                )}\r\n              />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <table className=\"mui-table\">\r\n          <tbody>\r\n          <tr>\r\n          <td width=\"50%\" key=\"0\">\r\n          <Input placeholder=\"Bid Hours \" value={beingEdited.hrs==null ? '' :beingEdited.hrs} onChange={(e)=>dispatchBeingEdited({type:'changeHrs', payload:e.target.value})}/>\r\n          </td><td width=\"50%\" key=\"1\">\r\n          <Input placeholder=\"Bid Labor $\" value={beingEdited.labor==null ? '' : beingEdited.labor} onChange={(e)=>dispatchBeingEdited({type:'changeLabor', payload:e.target.value})}/>\r\n          </td>\r\n          </tr></tbody>\r\n        </table>\r\n        \r\n        {renderCategories()}\r\n        \r\n        <Button variant=\"raised\" onClick={updateJob}>update</Button>\r\n        <span> archive </span>\r\n        <input type=\"checkbox\" \r\n          checked={beingEdited.archived}\r\n          onClick={(e)=>\r\n            dispatchBeingEdited({type:'archive', payload:e.target.checked})\r\n          }\r\n        />  \r\n      </div>\r\n    )\r\n  }\r\n\r\n  return(\r\n    <div style={style.outer}>\r\n      {renderForm()}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst beingEditedReducer=(state,action)=>{\r\n  let catarr =[]\r\n  let catstr=''\r\n  console.log('state: ', state)\r\n  console.log('action: ', action)\r\n  switch (action.type){\r\n    case 'replace':\r\n      return action.payload\r\n    case 'changeJob':\r\n      return {...state, job:action.payload}\r\n    case 'changeHrs':\r\n      return {...state, hrs:action.payload}\r\n    case 'changeLabor':\r\n      return {...state, labor:action.payload}\r\n    case 'changeCk':\r\n      return {...state, default:action.payload*1}\r\n    case 'changeWoCat' : \r\n      return {...state, jobwoCat:action.payload}\r\n    case 'archive':\r\n      if(action.payload){\r\n        console.log('check archive and job will no longer show in this app')\r\n      }\r\n      return {...state, archived:action.payload*1}  \r\n    case 'changeCatStr':\r\n      catarr = JSON.parse(state.categories)\r\n      console.log('catarr', catarr)\r\n      console.log('catstr: ', catstr)\r\n      catarr.push(action.payload)\r\n      catstr =JSON.stringify(catarr)\r\n      console.log('catarr', catarr)\r\n      console.log('catstr: ', catstr)\r\n      state.categories = catstr\r\n      console.log('state: ', state)\r\n      action.type=''\r\n      return {...state}\r\n    case 'changeCat':\r\n      catarr = JSON.parse(state.categories)\r\n      catarr[action.payload.idx].cat=action.payload.field\r\n      catstr =JSON.stringify(catarr)\r\n      return {...state, categories:catstr}\r\n    case 'changeCatHrs':\r\n      catarr = JSON.parse(state.categories)\r\n      catarr[action.payload.idx].hrs=action.payload.field\r\n      catstr =JSON.stringify(catarr)\r\n      return {...state, categories:catstr}\r\n    case 'changeCatLabor':\r\n      catarr = JSON.parse(state.categories)\r\n      catarr[action.payload.idx].labor=action.payload.field\r\n      catstr =JSON.stringify(catarr)\r\n      return {...state, categories:catstr}  \r\n    case 'changeCatCk':\r\n      catarr = JSON.parse(state.categories)\r\n      catarr[action.payload.idx].def=action.payload.field*1\r\n      const dc = isCkCat(catarr)\r\n      catstr =JSON.stringify(catarr)\r\n      return {...state, categories:catstr, defcat:dc*1}  \r\n    case 'deleteCat':\r\n      catarr = JSON.parse(state.categories)\r\n      const newarr = catarr.filter((c,i)=>i!=action.payload.idx)\r\n      const rc = isCkCat(newarr)\r\n      catstr =JSON.stringify(newarr)\r\n      return {...state, categories:catstr, defcat:rc*1}  \r\n    default:  \r\n      return state    \r\n  }\r\n}\r\n\r\nconst isCkCat =(arr)=>{\r\n  const f = arr.filter(a=>a.def)\r\n  console.log('f: ', f)\r\n  return f.length>0\r\n}\r\n\r\nconst style = {\r\n  outer:{\r\n    overflow:'hidden',\r\n    margin: '2px 10px 10px 10px',\r\n    padding: '4px',\r\n    background: '#99CCFF'\r\n  },\r\n  info:{\r\n    div:{\r\n      float:'right',\r\n      textAlign:'right'\r\n    },\r\n    span:{\r\n      fontSize: '200%',\r\n      color: 'orange'\r\n    }\r\n  },\r\n  myli :{\r\n    od:{\r\n      overflow:'hidden',\r\n      width: '100%',\r\n      border: '1px solid #ccc'\r\n    },\r\n    ul:{\r\n      textAlign: 'left',\r\n      listStyleType: 'none',\r\n      paddingLeft: '12px'\r\n    },\r\n    li:{\r\n      background: '#99CCCC',\r\n      padding: '6px',\r\n      overflow: 'hidden',\r\n      border: 'solid 1px black'\r\n    },\r\n    idx:{\r\n      float: 'left',\r\n      width: '7%',\r\n      padding: '5px'\r\n    },\r\n    icon:{\r\n      fontSize: '18px'\r\n    },\r\n  }\r\n}\r\n\r\n  // const expandCats=(ajob)=>{\r\n  //   const cats = ajob.categories.split(',')\r\n  //   const na = []\r\n  //   const exjob = cats.map((j)=>{\r\n  //   })\r\n  // }\r\n\r\n  // function contractCats(jobs){\r\n  //   if(!jobs){\r\n  //     jobs=[{job:'new', category:''}]\r\n  //   }\r\n  //   jobs[0].categories=''\r\n  //   console.log('jobs: ', jobs)\r\n  //   const job = jobs.reduce((acc, j, i)=>{\r\n  //     console.log('acc,j: ', acc,j)\r\n  //     acc.categories = `${acc.categories},${j.category}`\r\n  //     console.log('acc: ', acc)\r\n\r\n  //   },[jobs[0]])\r\n  //   console.log('jobs: ', jobs)\r\n  //   return jobs\r\n  // }"],"sourceRoot":""}