{"version":3,"sources":["webpack://tcard-jobs/tcard-jobs/tcard-jobs/tcard-jobs/./src/components/Jobs.js"],"names":["Jobs","firstday","blajobs","id","job","category","week","yr","useState","allJobs","setAllJobs","useContext","AContext","foundJobs","setFoundJobs","setJob2edit","searchStr","setSearchStr","jobs4week","setJobs4week","useReducer","dateInfoReducer","getDateInfo","Date","dateInfo","dispatchDateInfo","state","action","type","payload","datestr","Error","useEffect","getAllJobs","nv","getDateOfWeek","getJobs4week","fetchAllJobs","then","res","jobs","wk","fetchJobs4week","ajobs","map","a","active","onChecked","e","j4w","target","name","checked","save2week","savejobs","filter","j","d","coid","year","postJobs","editJob","search","sel","value","toLowerCase","length","includes","moveUp","isdup","b","renderHeader","firstdow","style","he","yw","get","act","renderJobs4week","myli","od","ul","ajob","i","li","idx","cat","ck","renderSearched","idxsp","sc","up","ar","btn","margin","height","padding","width","background","img","but","ac","ia","al","overflow","border","textAlign","listStyleType","paddingLeft","fontSize","fonntWeight","fontVariant","color","icon","transform","msTransform","WebkitTransform","fontWeight"],"mappings":"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","file":"src_components_Jobs_js.8aff15a2db1c4de3761a.js","sourcesContent":["import React,{useState, useEffect, useReducer, useContext} from 'react'\r\nimport {getDateInfo, getDateOfWeek} from '../utilities/wfuncs'\r\nimport {fetchJobs4week, postJobs, fetchAllJobs} from '../fetches'\r\nimport {AContext} from '../contexts/acontext'\r\n\r\nconst Jobs =({firstday})=>{\r\n   \r\n  const blajobs = [{id:'', job:'', category:'', week:'', yr:''}]\r\n  const[allJobs, setAllJobs]=useState(blajobs)\r\n  const{foundJobs, setFoundJobs, setJob2edit} = useContext(AContext)\r\n  const [searchStr, setSearchStr] =useState('')\r\n  const[jobs4week, setJobs4week]=useState(blajobs)\r\n  const[dateInfo, dispatchDateInfo] = useReducer(dateInfoReducer, getDateInfo(new Date))\r\n\r\n  function dateInfoReducer(state,action){\r\n    switch (action.type){\r\n      case 'changeWeek':\r\n        return {...state, week:action.payload}\r\n      case 'changeYear':\r\n        return {...state, yr:action.payload}\r\n      case 'changeDateStr':\r\n        return {...state, datestr:action.payload}\r\n      default:  \r\n        throw new Error()    \r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    getAllJobs()\r\n  },[])\r\n\r\n  useEffect(()=>{//once firstday resolves from getSettings\r\n    const nv= getDateOfWeek(dateInfo.week, dateInfo.yr)\r\n    dispatchDateInfo({type:'changeDateStr', payload:nv})\r\n  },[firstday])\r\n\r\n  useEffect(()=>{\r\n    getJobs4week(dateInfo.week, dateInfo.yr)\r\n  }, [dateInfo.week, dateInfo.yr]  )\r\n\r\n  const getAllJobs=()=>{\r\n    fetchAllJobs()\r\n    .then((res)=>{\r\n      setAllJobs(res.jobs)\r\n    })\r\n  }\r\n\r\n  function getJobs4week(wk, yr) {\r\n    const nv = getDateOfWeek(wk, yr)\r\n    dispatchDateInfo({ type: 'changeDateStr', payload: nv })\r\n    fetchJobs4week(wk, yr)\r\n      .then((res) => {\r\n        const ajobs = res.jobs.map((a)=>{\r\n          a.active=1\r\n          return a\r\n        })\r\n        setJobs4week(ajobs)\r\n      })\r\n  }\r\n\r\n  const onChecked=(e)=>{\r\n    const j4w = [...jobs4week]\r\n    j4w[e.target.name].active = e.target.checked\r\n    // const idx = ojob\r\n    // .findIndex((o)=>o.id==a.id)\r\n    // ojob[idx].active = !a.active*1\r\n    setJobs4week(j4w)\r\n  }\r\n\r\n  const save2week=()=>{\r\n    const savejobs =jobs4week\r\n    .filter(j=>j.active)\r\n    .map((d)=>{\r\n      delete d.id\r\n      delete d.default\r\n      delete d.coid\r\n      d.active=1\r\n      d.week = dateInfo.week\r\n      d.year = dateInfo.yr\r\n      return d\r\n    })\r\n    postJobs(savejobs, dateInfo.week, dateInfo.yr).then(()=>{\r\n      setJobs4week(savejobs)\r\n    })\r\n  }\r\n\r\n  const editJob=(e)=>()=>{\r\n    setJob2edit(e.job)\r\n  }\r\n\r\n  // const onCheckedFound=(j)=>(e)=>{\r\n  //   console.log('j.job, e.target.checked: ', j.job, e.target.checked, e.target.name)\r\n  //   const njobs = [...foundJobs]\r\n  //   njobs[e.target.name].default=e.target.checked\r\n  //   setFoundJobs(njobs)\r\n  //   if(category.length>0){\r\n\r\n  //   }\r\n  //   postJob({job:j.job, default:e.target.checked})\r\n  // }\r\n\r\n  const search=(e)=>{\r\n    const sel = e.target.value.toLowerCase()\r\n    setSearchStr(sel)\r\n    if(sel.length>1){\r\n      const foundJobs = allJobs.filter((j)=>{\r\n        return j.job.toLowerCase().includes(sel)\r\n      }) \r\n      setFoundJobs(foundJobs) \r\n    }else{\r\n      setFoundJobs([])\r\n    }    \r\n  }\r\n\r\n  const moveUp=(a)=>()=>{\r\n    const isdup = jobs4week.filter(j=>j.job==a.job && j.category==a.category).length>0\r\n    if (!isdup){\r\n      const b = {...a}\r\n      b.active=1\r\n      setJobs4week([...jobs4week, b])\r\n    }\r\n  }\r\n\r\n  const renderHeader = ()=>{\r\n    const{week,yr,firstdow, datestr} = dateInfo\r\n    return(\r\n      <div style={style.he}>\r\n        <div style={style.he.yw}>\r\n          <input type=\"number\" value={yr} style={style.he.yr} onChange={(e)=>dispatchDateInfo({type:'changeYear', payload:e.target.value})}/> \r\n          wk \r\n          <input type=\"number\" value={week} \r\n            onChange={(e)=>dispatchDateInfo({type:'changeWeek', payload:e.target.value})} \r\n            style={style.he.wk}\r\n          /> \r\n          <span>\r\n             starting on {firstdow} {datestr}\r\n          </span>\r\n        </div>\r\n        <div> \r\n          <div style={style.he.get}>\r\n            <button className=\"btn\" onClick={save2week} >sav2wk</button>\r\n          </div>\r\n          <div style={style.he.act}>\r\n          </div>\r\n        </div>\r\n      </div>      \r\n    )\r\n  }\r\n\r\n  const renderJobs4week=()=>{\r\n    return(\r\n      <div style={style.myli.od}> \r\n      <ul style={style.myli.ul}>\r\n      {jobs4week\r\n        //.filter((ajob)=>this.fil(ajob))\r\n        .map((ajob,i)=>{\r\n        return (\r\n        <li  key={i} style={style.myli.li}>\r\n          <div style={style.myli.idx}>\r\n          </div>\r\n          <div style={style.myli.job}> \r\n             {ajob.job} \r\n          </div>\r\n          <div style={style.myli.cat}>\r\n            {ajob.category}</div>\r\n          <div style={style.myli.act}>\r\n            <input name={i} style={style.myli.ck} type=\"checkbox\" checked= {ajob.active} onChange={onChecked}></input>\r\n          </div>\r\n        </li >)\r\n      })}\r\n      </ul>\r\n    </div>\r\n    )\r\n  }\r\n\r\n  const renderSearched=()=>{\r\n    const jobs = foundJobs.map((ajob,i)=>{\r\n      return (\r\n        <li  key={i} style={style.myli.li}>\r\n          <div style={style.myli.idx}>\r\n            <span style={style.myli.idxsp} onClick={editJob(ajob)}>&#9998;</span>   \r\n          </div>\r\n          <div style={style.myli.job}> \r\n            <span>{ajob.job} </span>\r\n            {ajob.default==1 && <span style={style.myli.sc}>def</span>}\r\n          </div>\r\n          <div style={style.myli.cat}>\r\n            {ajob.category}</div>\r\n\r\n          {/* <div style={style.myli.act}>\r\n            <input name={i} style={style.myli.ck} type=\"checkbox\" checked= {ajob.default} onChange={onCheckedFound(ajob)}></input>\r\n          </div> */}\r\n          <div style={style.myli.up}>\r\n            <span style={style.myli.ar} onClick={moveUp(ajob)}>&#8593;</span>\r\n          </div>\r\n        </li >)\r\n    })\r\n    return(\r\n      <div style={style.myli.ul}>\r\n        <input type=\"text\" placeholder=\"&#128270; all jobs\" value={searchStr} onChange={search}/>\r\n        <ul style={style.myli.ul}>\r\n          {jobs}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      {renderHeader()}\r\n      {renderJobs4week()}\r\n      {renderSearched()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Jobs\r\n\r\nconst style = {\r\n  btn:{\r\n\r\n  },\r\n  he:{\r\n    margin: '2px 10px 10px 10px',\r\n    height:'70px',\r\n    yw:{\r\n      padding: '1px 1px 10px 1px'\r\n    },\r\n    yr:{\r\n      width: '45px',\r\n      background: 'silver'\r\n    },\r\n    wk:{\r\n      width:'44px',\r\n      background: 'whitesmoke'\r\n    },\r\n    img:{\r\n      \r\n      float:'right',\r\n      width: '30px'\r\n    },\r\n    act:{\r\n      float: 'right'\r\n    },\r\n    get:{\r\n      float:'left'\r\n    },\r\n    but:{\r\n      ac:{\r\n        margin: '4px',\r\n        padding: '4px'\r\n      },\r\n      ia:{\r\n        margin: '4px',\r\n        padding: '4px'\r\n      },\r\n      al:{\r\n        margin: '4px',\r\n        padding: '4px'\r\n      }\r\n    },\r\n  },\r\n  myli :{\r\n    od:{\r\n      overflow:'hidden',\r\n      width: '100%',\r\n      border: '1px solid #ccc'\r\n    },\r\n    ul:{\r\n      textAlign: 'left',\r\n      listStyleType: 'none',\r\n      paddingLeft: '12px'\r\n    },\r\n    li:{\r\n      background: '#99CCCC',\r\n      padding: '6px',\r\n      overflow: 'hidden',\r\n      border: 'solid 1px black'\r\n    },\r\n    sc:{\r\n      fontSize: '9px',\r\n      fonntWeight: 'bold',\r\n      fontVariant: \"small-caps\",\r\n      background: 'whitesmoke',\r\n      color: 'blue'\r\n    },\r\n    idx:{\r\n      float: 'left',\r\n      width: '7%',\r\n      padding: '5px'\r\n    },\r\n    icon:{\r\n      fontSize: '18px'\r\n    },\r\n    ck:{\r\n      transform: 'scale(1.5)',\r\n      msTransform: 'scale(1.5)',\r\n      WebkitTransform: 'scale(1.5)',\r\n      padding: '10px',\r\n      border: '2px solid black'\r\n    },\r\n    job:{\r\n      padding: '3px',\r\n      width: '40%',\r\n      float: 'left',\r\n      background: '#99CCCC'\r\n    },\r\n    cat:{\r\n      padding: '3px',\r\n      width: '20%',\r\n      float: 'left',\r\n      background: '#99CCCC'\r\n  \r\n    },\r\n    act:{\r\n      width: '10%',\r\n      float: 'right',\r\n      background: '#99CCCC'  \r\n    },\r\n    up:{\r\n      width: '10%',\r\n      float: 'right',\r\n      background: '#99CCCC'  \r\n    },\r\n    ar:{\r\n      border: 'solid 1px black',\r\n      fontSize: '24px',\r\n      fontWeight:'bold',\r\n      background: '#99CCFF'\r\n    }\r\n  }\r\n}"],"sourceRoot":""}